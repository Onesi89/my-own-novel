# 제품 요구사항 문서 (PRD)

## 1. 개요
구글 타임라인 데이터를 활용해 사용자의 하루 혹은 지정 기간 이동 경로를 AI가 서사 구조로 변환하여 개인화된 소설을 생성해 주는 토이 웹 서비스. 사용자는 이야기 종류나 장소별 사건에 대해 AI가 제시하는 선택지를 직접 선택하여, 자신만의 스토리를 만들어 감상할 수 있다. SNS 공유를 통해 감정적 만족과 재미를 동시에 얻는다. 모든 스토리의 주인공은 "나"로 지정된다.

## 2. 문제 정의
- 구글 타임라인 이용자는 자신이 이동한 경로를 시각적으로만 확인, 감정적·창의적 만족도가 낮음  
- 일상 기록 서비스는 많지만, AI-기반 스토리텔링으로 개인 이동 데이터를 서사화하는 솔루션 부재  
- 글쓰기 능력이나 시간 부족으로 ‘나만의 이야기’를 직접 작성하기 어려움

## 3. 목표 및 목적
- 1차 목표: 구글 타임라인 데이터를 텍스트 소설로 자동 변환  
- 2차 목표: 작품 공유를 통해 사용자 참여 및 바이럴 확대  
- 성공 지표  
  - MVP 단계: 소설 생성 플로우(선택지 인터랙션 포함) 완성  
  - SNS 공유율 30% 이상  

## 4. 대상 사용자
### 주요 사용자
- 연령 18~45세, 구글 계정 및 타임라인 활성화 사용자  
- 일상 기록·SNS 공유를 즐기는 MZ 세대  
- 이동 동선이 많은 직장인, 학생, 여행객

### 보조 이해관계자
- SNS 친구 및 팔로워  
- 마케터·브랜드(콜라보 소설 콘텐츠 활용)  

## 5. 사용자 스토리
- “구글 사용자로서, 로그인 한 번으로 내 하루 이동 경로가 소설로 변환되어 색다른 만족감을 얻고 싶다.”  
- “여행객으로서, 일정 기간 이동 기록을 서사 형태로 보관하고 친구에게 공유하고 싶다.”  
- “콘텐츠 크리에이터로서, 이동 경로 소설을 이어붙여 연재 형식의 블로그 시리즈를 만들고 싶다.”

## 6. 기능 요구사항
### 핵심 기능
1. 구글 OAuth 로그인  
   - AC: 구글 계정으로 3초 내 로그인 가능, 실패 시 명확한 오류 메시지  
2. 구글 타임라인 데이터 연동  
   - AC: 사용자 승인 후 지정 날짜·기간 JSON 좌표·타임스탬프 수집  
3. 경로→서사 AI 변환  
    - AC: GPT-4o API 사용, 장소·시간·이동 수단을 배경·플롯·캐릭터로 변환하며, 전체 소설 분량은 짧은 웹소설 한편(5천~7천 자 이내)으로 제한  
    - 옵션: 시작 시 사용자에게 이야기 종류(SF, 로맨스, 코미디 등)를 선택하도록 질문 제공  
    - 각 주요 장소별로 AI가 "여기에는 무슨 사건이 벌어졌을까요?"와 같은 질문 및 선택지(2~3개)를 생성, 사용자가 선택하면 해당 선택지를 기반으로 창의적인 스토리 전개
4. 소설 뷰어 및 공유  
   - AC: 1만 자 이하 소설 렌더링, SNS 링크·이미지 카드 생성  
5. 기간 선택·연속 소설  
   - AC: 달력 UI로 최대 30일 범위 선택, DB에 저장하여 이어쓰기 가능

### 보조 기능

- 개인화 표지 이미지 생성  
- 이전 소설 리스트·재생성

## 7. 비기능 요구사항
- 성능: 소설 생성 요청 후 10초 이내 결과 반환  
- 보안: OAuth2, 데이터 암호화 at-rest & in-transit, GDPR 준수  
- 사용성: 모바일 우선 반응형, 글꼴 가독성 우수  
- 확장성: 마이크로서비스 구조, AI 모델 교체 용이  
- 호환성: 최신 크롬·사파리·엣지, iOS/Android 브라우저 지원

## 8. 기술 고려사항
- 프론트엔드: Next.js 15.1.0 (React 19 기반), TypeScript, Turbopack (개발 서버)
- AI 연동: Anthropic Claude 유료 API(우선 적용), OpenAI GPT-4o API (토큰 최적화, 비용 관리 포함)
- DB: PostgreSQL (Supabase) – 소설 메타, 지속 세션  
- 외부 API: Google Maps Timeline, Social OG Image 서비스  
- 아키텍처: JAMstack, CDN 캐싱, ISR 활용

## 9. 성공 지표
- 제품: DAU/MAU 비율 40% 이상, 세션 당 페이지뷰 3회  
- 비즈니스: 프리미엄 테마 업셀 결제 전환율 5%  
- 기술: 오류율 <1%, 평균 응답 200ms (캐시 후)

## 10. 일정 및 마일스톤
- Phase 0 (2주): 요구사항 확정, 디자인 시안  
- Phase 1 MVP (6주): 로그인, 타임라인 API, 기본 소설 생성·뷰어  
- Phase 2 (4주): 기간 선택, SNS 공유, 번역, 로딩 최적화  
- Phase 3 (4주): 연속 소설, 프리미엄 테마, 모바일 PWA 배포

## 11. 위험 및 완화
- Google API 정책 변경 → 정기 모니터링, 백업 모드(데모 데이터)  
- AI 비용 급증 → 캐시·프롬프트 압축, 사용량 기반 요금제 도입  
- AI 비용 급증(Claude API 단가에 유의) → 캐시·프롬프트 압축, 선택지 수 제한 등 토이 프로젝트에 맞는 비용 절감 방안 적용  

## 12. 향후 계획
- Wear OS 위치 데이터 연동  
- 향후 계획은 미정이며, 토이 프로젝트 상황에 따라 유동적으로 결정함.
